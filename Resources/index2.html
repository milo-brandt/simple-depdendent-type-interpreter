<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
        body {background-color: black; color:gray; }
    </style>
</head>

<body >
  <div align="center">
      <p>Drag between lattice points to draw paths. Pressing Z usually undoes your last action
       <br>
       <label for="hexagonal">Triangular:</label>
       <input type="checkbox" id="hexagonal" name="hexagonal" checked="true">
       <label for="gridHeight">Vertical Dot Count:</label>
       <input type="number" id="gridHeight" name="gridHeight" min="2" max="40" step="1" value="17">
       <button onclick="regenerateGridJS()">Generate New Grid</button><br><br>
       <input type="radio" id="drawing" name="currentMode" onchange="changeMode()" checked="true"> Draw Mode
       <input type="radio" id="erasing" name="currentMode" onchange="changeMode()"> Erase Mode
       <input type="radio" id="highlighting" name="currentMode" onchange="changeMode()"> Highlight Mode
       <script>
function changeMode(){
    if(document.getElementById("drawing").checked){ Module.ccall("change_mode",null,["number"],[0]); }
    if(document.getElementById("erasing").checked){ Module.ccall("change_mode",null,["number"],[1]); }
    if(document.getElementById("highlighting").checked){ Module.ccall("change_mode",null,["number"],[2]); }
}
function regenerateGridJS() {
  var x = document.getElementById("hexagonal");
  var y = document.getElementById("gridHeight");
  var z = 0;
  var w = 2 / (Number(y.value) + 0.5);
  if(x.checked){
      z = 1;
  }
  Module.ccall("reset_grid",null,["number", "number"],[z,w]);
}
</script>

   </p>
       <canvas style="user-select: none" id="canvas" oncontextmenu="event.preventDefault()"></canvas>

       <!-- Allow the C++ to access the canvas element -->
       <script type='text/javascript'>
           var canv = document.getElementById('canvas');
           var Module = {
               canvas: canv
           };
       </script>

       <!-- Call the javascript glue code (index.js) as generated by Emscripten -->
       <script src="index.js"></script>

  </div>
</body>

</html>
